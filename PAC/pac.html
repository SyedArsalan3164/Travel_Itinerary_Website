<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Syed Arsalan Travel Itinerary</title>
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

  <style>
    
    :root {
      --cadet-blue-creyola: hsl(222, 14%, 69%);
      --international-orange-engineering: hsl(0, 91%, 37%);
      --oxford-blue-1: hsl(222, 47%, 15%);
      --oxford-blue-2: hsl(222, 44%, 14%);
      --oxford-blue-3: hsl(222, 50%, 11%);
      --sonic-silver: hsl(0, 0%, 44%);
      --space-cadet: hsl(222, 44%, 18%);
      --pastel-pink: hsl(1, 53%, 75%);
      --eerie-black: hsl(0, 0%, 15%);
      --light-gray: hsl(0, 0%, 80%);
      --white: hsl(0, 0%, 100%);

      --ff-chakra-petch: 'Chakra Petch', sans-serif;
      --ff-mulish: 'Mulish', sans-serif;

      --fs-1: 3.5rem;
      --fs-2: 3rem;
      --fs-3: 2.4rem;
      --fs-4: 1.8rem;
      --fs-5: 1.4rem;
      --fs-6: 1.2rem;

      --fw-400: 400;
      --fw-600: 600;
      --fw-700: 700;

      --section-padding: 60px;
      --shadow: 0px 0px 100px 0px hsl(216, 9%, 90%);
      --radius-pill: 100px;
      --radius-circle: 50%;
      --transition: 0.25s ease;
      --cubic-out: cubic-bezier(0.05, 0.83, 0.52, 0.97);
    }

    *,
    *::before,
    *::after { box-sizing: border-box; }

    html { font-family: var(--ff-mulish); font-size: 12px; }
    body { margin: 0; font-size: 1.6rem; color: var(--sonic-silver); background: var(--white); }

    
    header {
      background: linear-gradient(90deg,#0d6efd22,#6610f022);
      backdrop-filter: blur(4px);
      padding: 28px 16px;
      border-bottom: 1px solid rgba(0,0,0,0.04);
    }

    .brand-title { font-family: var(--ff-chakra-petch); font-weight: 700; font-size: 2rem; text-transform: uppercase; color: var(--oxford-blue-3); }
    .brand-sub { color: var(--sonic-silver); font-size: 1.2rem; }

   
    main { padding-bottom: 60px; }
    .card.summary { height: 70%; }
    .itinerary-list { max-height: 60vh; overflow: auto; }

    
    .btn-primary {
      background-color: var(--international-orange-engineering) !important;
      border-radius: var(--radius-pill);
      border: 1px solid transparent;
      padding: 10px 16px;
      text-transform: uppercase;
      font-weight: 700;
    }

    .btn-outline-secondary { border-radius: var(--radius-pill); }

  
    .list-group-item { border-radius: 12px; margin-bottom: 10px; }

    
    .modal .form-label { font-weight: 600; }

    
    .footer { color: var(--cadet-blue-creyola); margin-top: 40px; }
    .footer-top { background-color: var(--space-cadet); padding: 40px 16px; color: var(--off rgb(255, 255, 255)); }
    .footer-top .container { display: grid; gap: 24px; }
    .footer .h3 { color: var(off rgb(255, 255, 255)); margin-bottom: 12px; }
    .social-list { display:flex; gap:12px; }
    .social-link { background-color: var(off rgb(219, 218, 218)); padding: 12px; border-radius: 50%; display:inline-grid; place-items:center; }
    .footer-bottom { background-color: var(--oxford-blue-1); padding: 16px; text-align:center; color: var(--cadet-blue-creyola); }

    @media (min-width: 768px) {
      header { padding: 32px 40px; }
      .brand-title { font-size: 3rem; }
      .brand-sub { font-size: 1.6rem; }
      .footer-top .container { grid-template-columns: 1fr 0.6fr 0.6fr; align-items: start; }
    }

    
    .sr-only-focusable:focus { outline: 3px dashed var(--international-orange-engineering); outline-offset: 3px; }

  </style>
</head>

<body>
  <header>
    <div class="container d-flex align-items-center justify-content-between">
      <div>
        <div class="brand-title">Syed Arsalan Travel Itinerary</div>
        <div class="brand-sub">Plan, edit and export your trip — saved locally in your browser.</div>
      </div>

      <div class="d-flex gap-2">
        <button id="btnAdd" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#itemModal">
          <i class="bi bi-plus-lg"></i> Add item
        </button>
        <div class="btn-group" role="group" aria-label="Import Export">
          <button id="exportBtn" class="btn btn-outline-secondary" title="Export itinerary as JSON"><i class="bi bi-upload"></i> Export</button>
          <button id="importBtn" class="btn btn-outline-secondary" title="Import itinerary JSON" aria-controls="importFile"> <i class="bi bi-download"></i> Import</button>
        </div>
        <input id="importFile" type="file" accept="application/json" class="visually-hidden" />
      </div>
    </div>
  </header>

  <main class="container mb-5 mt-4">
    <div class="row g-3">
      <section class="col-lg-4">
        <form id="controls" class="card p-3 sticky-top" aria-label="Search and filters">
          <div class="mb-2">
            <label for="search" class="form-label small">Search</label>
            <input id="search" type="search" class="form-control" placeholder="title, location or notes" />
          </div>

          <div class="mb-2">
            <label for="filterDate" class="form-label small">Filter by date</label>
            <input id="filterDate" type="date" class="form-control" />
          </div>

          <div class="d-flex gap-2">
            <button id="clearFilters" type="button" class="btn btn-outline-secondary btn-sm">Clear</button>
            <button id="todayBtn" type="button" class="btn btn-outline-primary btn-sm">Today</button>
          </div>
        </form>

        <div class="card summary p-3 mt-3">
          <h2 class="h6">Trip summary</h2>
          <p id="summaryCount" class="mb-1">0 items</p>
          <p id="summaryRange" class="mb-0 text-muted small">No dates</p>
        </div>
      </section>

      <section class="col-lg-8">
        <div class="card p-3">
          <div class="d-flex align-items-center justify-content-between mb-3">
            <h2 class="h6 mb-0">Itinerary</h2>
            <div class="small text-muted">Saved in your browser (localStorage)</div>
          </div>

          <div id="list" class="itinerary-list list-group" role="list" aria-live="polite" aria-label="Itinerary list">
           
          </div>

          <div id="emptyState" class="text-center text-muted py-4">
            <i class="bi bi-calendar3-event fs-1"></i>
            <p class="mb-0">No itinerary items yet — add one to get started.</p>
          </div>

        </div>
      </section>
    </div>
  </main>

 
  <div class="modal fade" id="itemModal" tabindex="-1" aria-labelledby="itemModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <form id="itemForm" class="needs-validation" novalidate>
          <div class="modal-header">
            <h5 class="modal-title" id="itemModalLabel">Add itinerary item</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <input id="itemId" type="hidden" />

            <div class="row g-3">
              <div class="col-md-8">
                <label for="title" class="form-label">Title <span class="text-danger">*</span></label>
                <input id="title" name="title" class="form-control" required />
                <div class="invalid-feedback">Give this item a short title.</div>
              </div>

              <div class="col-md-4">
                <label for="date" class="form-label">Date <span class="text-danger">*</span></label>
                <input id="date" name="date" type="date" class="form-control" required />
                <div class="invalid-feedback">Choose a date.</div>
              </div>

              <div class="col-md-4">
                <label for="time" class="form-label">Time</label>
                <input id="time" name="time" type="time" class="form-control" />
              </div>

              <div class="col-md-8">
                <label for="location" class="form-label">Location</label>
                <input id="location" name="location" class="form-control" />
              </div>

              <div class="col-12">
                <label for="notes" class="form-label">Notes</label>
                <textarea id="notes" name="notes" rows="3" class="form-control" placeholder="Packing notes, confirmation numbers, directions..."></textarea>
              </div>

              <div class="col-md-4">
                <label for="duration" class="form-label">Duration (e.g. 2h)</label>
                <input id="duration" name="duration" class="form-control" />
              </div>

            </div>
          </div>
          <div class="modal-footer">
            <button id="deleteBtn" type="button" class="btn btn-outline-danger me-auto d-none">Delete</button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <button id="saveBtn" type="submit" class="btn btn-primary">Save</button>
          </div>
        </form>
      </div>
    </div>
  </div>

 
  <div id="announce" class="visually-hidden" aria-live="polite" aria-atomic="true"></div>


  <footer class="footer" style="font-size: smaller;">
    <div class="footer-top">
      <div class="container">
        <div style="font-size: medium;">
          <div class="h3">Syed Arsalan Travel</div>
          <p class="footer-text">Plan your trips, keep confirmations, and carry your itinerary with you — saved locally on your device.</p>
          <div class="social-list" aria-label="Social links">
            <a class="social-link" href="https://www.instagram.com/" aria-label="Twitter"><i class="bi bi-twitter text-white"></i></a>
            <a class="social-link" href="https://x.com/" aria-label="Instagram"><i class="bi bi-instagram text-white"></i></a>
           
          </div>
        </div>

    
        <div>
          <h4 class="h6">Contact</h4>
          <ul class="footer-list p-0 mt-2" style="font-size: medium;">
            <li class="text-white">Email: contact@syedarsalan.dev</li>
            <li class="text-white mt-2">Location: India</li>
          </ul>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <div class="container" style="font-size: small;">
        <div class="copyright">© <span id="year"></span> Syed Arsalan — All rights reserved</div>
      </div>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    (function () {
      const STORAGE_KEY = 'itinerary.v1';
      const listEl = document.getElementById('list');
      const emptyState = document.getElementById('emptyState');
      const summaryCount = document.getElementById('summaryCount');
      const summaryRange = document.getElementById('summaryRange');
      const announceEl = document.getElementById('announce');

      const searchEl = document.getElementById('search');
      const filterDateEl = document.getElementById('filterDate');
      const clearFilters = document.getElementById('clearFilters');
      const todayBtn = document.getElementById('todayBtn');

      const itemModal = new bootstrap.Modal(document.getElementById('itemModal'));
      const itemForm = document.getElementById('itemForm');
      const itemId = document.getElementById('itemId');
      const titleEl = document.getElementById('title');
      const dateEl = document.getElementById('date');
      const timeEl = document.getElementById('time');
      const locationEl = document.getElementById('location');
      const notesEl = document.getElementById('notes');
      const durationEl = document.getElementById('duration');
      const deleteBtn = document.getElementById('deleteBtn');

      const exportBtn = document.getElementById('exportBtn');
      const importBtn = document.getElementById('importBtn');
      const importFile = document.getElementById('importFile');

      let items = load();
      let lastAnnounceTimer = null;

      render();
      attachListeners();

      function load() {
        try {
          const raw = localStorage.getItem(STORAGE_KEY);
          if (!raw) return sampleData();
          return JSON.parse(raw);
        } catch (e) {
          console.error('load error', e);
          return sampleData();
        }
      }

      function save() { try { localStorage.setItem(STORAGE_KEY, JSON.stringify(items)); } catch (e) { console.error('save error', e); } }

      function sampleData() {
        const d1 = new Date(); d1.setDate(d1.getDate() + 2);
        const d2 = new Date(); d2.setDate(d2.getDate() + 3);
        return [ createItem('Arrive in Rajkot', formatDate(d1), '10:30', 'Hirasar Airport', 'Pick up parcel', '1h'), createItem('Atal Sarovar', formatDate(d2), '09:00', 'Cab', 'Drone Show', '2h') ];
      }

      function uid() { return Math.random().toString(36).slice(2, 9); }
      function createItem(title, date, time = '', location = '', notes = '', duration = '') { return { id: uid(), title, date, time, location, notes, duration }; }

      function render() {
        const filtered = getFiltered();
        listEl.innerHTML = '';
        if (!filtered.length) { emptyState.style.display = ''; } else { emptyState.style.display = 'none'; filtered.forEach(it => listEl.appendChild(renderItem(it))); }
        renderSummary(items);
      }

      function renderItem(item) {
        const li = document.createElement('div');
        li.className = 'list-group-item list-group-item-action d-flex gap-3 align-items-start';
        li.setAttribute('role', 'listitem');

        const dateBlock = document.createElement('div');
        dateBlock.className = 'text-center pe-3';
        dateBlock.innerHTML = `<div class="fw-bold">${formatDateShort(item.date)}</div><div class="small text-muted">${item.time || ''}</div>`;

        const content = document.createElement('div');
        content.className = 'flex-grow-1';
        content.innerHTML = `<div class="d-flex w-100 justify-content-between">
            <h3 class="h6 mb-1">${escapeHtml(item.title)}</h3>
            <div class="small text-muted">${escapeHtml(item.duration || '')}</div>
          </div>
          <p class="mb-1 small text-muted">${escapeHtml(item.location || '')}</p>
          <p class="mb-0">${escapeHtml(item.notes || '')}</p>`;

        const actions = document.createElement('div');
        actions.className = 'btn-group ms-2';

        const editBtn = document.createElement('button');
        editBtn.className = 'btn btn-sm btn-outline-primary';
        editBtn.title = 'Edit';
        editBtn.innerHTML = '<i class="bi bi-pencil"></i>';
        editBtn.addEventListener('click', () => openEdit(item.id));

        const delBtn = document.createElement('button');
        delBtn.className = 'btn btn-sm btn-outline-danger';
        delBtn.title = 'Delete';
        delBtn.innerHTML = '<i class="bi bi-trash"></i>';
        delBtn.addEventListener('click', () => removeItem(item.id));

        actions.appendChild(editBtn);
        actions.appendChild(delBtn);

        li.appendChild(dateBlock);
        li.appendChild(content);
        li.appendChild(actions);

        return li;
      }

      function renderSummary(list) {
        summaryCount.textContent = `${list.length} item${list.length === 1 ? '' : 's'}`;
        if (!list.length) { summaryRange.textContent = 'No dates'; return; }
        const dates = list.map(i => i.date).sort();
        summaryRange.textContent = `${dates[0]} → ${dates[dates.length - 1]}`;
      }

      function getFiltered() {
        const q = (searchEl.value || '').trim().toLowerCase();
        const fDate = filterDateEl.value;
        return items.filter(it => { if (fDate && it.date !== fDate) return false; if (!q) return true; return [it.title, it.location, it.notes].some(s => (s || '').toLowerCase().includes(q)); }).sort((a, b) => (a.date === b.date ? (a.time || '') < (b.time || '') ? -1 : 1 : a.date < b.date ? -1 : 1));
      }

      function openEdit(id) { const it = items.find(x => x.id === id); if (!it) return; itemId.value = it.id; titleEl.value = it.title; dateEl.value = it.date; timeEl.value = it.time || ''; locationEl.value = it.location || ''; notesEl.value = it.notes || ''; durationEl.value = it.duration || ''; deleteBtn.classList.remove('d-none'); document.getElementById('itemModalLabel').textContent = 'Edit itinerary item'; itemModal.show(); }
      function clearForm() { itemId.value = ''; titleEl.value = ''; dateEl.value = ''; timeEl.value = ''; locationEl.value = ''; notesEl.value = ''; durationEl.value = ''; deleteBtn.classList.add('d-none'); document.getElementById('itemModalLabel').textContent = 'Add itinerary item'; }

      function removeItem(id) { if (!confirm('Delete this item?')) return; items = items.filter(i => i.id !== id); save(); render(); announce('Item deleted'); }

      function upsertItem(data) {
        if (data.id) { const idx = items.findIndex(i => i.id === data.id); if (idx > -1) items[idx] = data; announce('Item updated'); } else { data.id = uid(); items.push(data); announce('Item added'); }
        save(); render();
      }

      exportBtn.addEventListener('click', () => { const blob = new Blob([JSON.stringify(items, null, 2)], { type: 'application/json' }); const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href = url; a.download = 'itinerary.json'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url); announce('Exported itinerary'); });

      importBtn.addEventListener('click', () => importFile.click());
      importFile.addEventListener('change', (e) => {
        const file = e.target.files && e.target.files[0]; if (!file) return; const reader = new FileReader(); reader.onload = () => { try { const data = JSON.parse(reader.result); if (!Array.isArray(data)) throw new Error('Invalid format'); const valid = data.every(i => i.title && i.date); if (!valid) throw new Error('Missing fields'); items = data.map(i => ({ id: i.id || uid(), title: i.title, date: i.date, time: i.time || '', location: i.location || '', notes: i.notes || '', duration: i.duration || '' })); save(); render(); announce('Imported itinerary'); } catch (err) { alert('Import failed: ' + err.message); } };
        reader.readAsText(file); importFile.value = '';
      });

      itemForm.addEventListener('submit', (ev) => { ev.preventDefault(); if (!itemForm.checkValidity()) { itemForm.classList.add('was-validated'); return; } const data = { id: itemId.value || null, title: titleEl.value.trim(), date: dateEl.value, time: timeEl.value, location: locationEl.value.trim(), notes: notesEl.value.trim(), duration: durationEl.value.trim(), }; upsertItem(data); itemModal.hide(); setTimeout(clearForm, 250); });

      deleteBtn.addEventListener('click', () => { if (!itemId.value) return; if (!confirm('Delete this item?')) return; items = items.filter(i => i.id !== itemId.value); save(); render(); itemModal.hide(); announce('Item deleted'); });

      function attachListeners() {
        searchEl.addEventListener('input', debounce(render, 200));
        filterDateEl.addEventListener('change', render);
        clearFilters.addEventListener('click', () => { searchEl.value = ''; filterDateEl.value = ''; render(); announce('Filters cleared'); });
        todayBtn.addEventListener('click', () => { filterDateEl.value = formatDateInput(new Date()); render(); announce('Filtered to today'); });
        document.getElementById('btnAdd').addEventListener('click', () => { clearForm(); setTimeout(() => titleEl.focus(), 200); });
        window.addEventListener('keydown', (e) => { if (e.key === 'n' && (e.ctrlKey || e.metaKey)) { e.preventDefault(); document.getElementById('btnAdd').click(); } if (e.key === '/' && document.activeElement.tagName !== 'INPUT' && document.activeElement.tagName !== 'TEXTAREA') { e.preventDefault(); searchEl.focus(); } });
      }

      function formatDate(d) { if (!(d instanceof Date)) return d; return d.toISOString().slice(0, 10); }
      function formatDateShort(isoDate) { try { const d = new Date(isoDate + 'T00:00:00'); return d.toLocaleDateString(undefined, { month: 'short', day: 'numeric' }); } catch { return isoDate; } }
      function formatDateInput(d) { const y = d.getFullYear(); const m = ('0' + (d.getMonth() + 1)).slice(-2); const day = ('0' + d.getDate()).slice(-2); return `${y}-${m}-${day}`; }
      function escapeHtml(str) { if (!str) return ''; return str.replaceAll('&', '&amp;').replaceAll('<', '&lt;').replaceAll('>', '&gt;'); }
      function announce(msg) { announceEl.textContent = msg; if (lastAnnounceTimer) clearTimeout(lastAnnounceTimer); lastAnnounceTimer = setTimeout(() => announceEl.textContent = '', 2000); }
      function debounce(fn, wait) { let t = null; return (...args) => { clearTimeout(t); t = setTimeout(() => fn.apply(null, args), wait); }; }
      function initFocus() { document.getElementById('search').setAttribute('placeholder', 'Press / to search'); }
      initFocus();
      window.__itinerary = { get items() { return items; }, reload: () => { items = load(); render(); } };

    
      document.getElementById('year').textContent = new Date().getFullYear();

    })();
  </script>
</body>

</html>
